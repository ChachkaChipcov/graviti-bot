<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Game Zone</title>

  <!-- iOS Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Game Zone">

  <!-- Android/Chrome Meta Tags -->
  <meta name="theme-color" content="#0f0f1a">
  <meta name="mobile-web-app-capable" content="yes">

  <!-- General -->
  <meta name="description"
    content="–ò–≥—Ä–∞–π —Å –¥—Ä—É–∑—å—è–º–∏ –≤ Telegram! –ö–ù–ë, –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏, –ú–æ—Ä—Å–∫–æ–π –ë–æ–π, –î—É—Ä–∞–∫, UNO, –ú–æ–Ω–æ–ø–æ–ª–∏—è">
  <meta name="format-detection" content="telephone=no">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/css/styles.css?v=34">
  <link rel="stylesheet" href="/css/animations.css?v=34">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
  <div id="app">
    <!-- Lobby Screen -->
    <div id="lobby" class="screen active">
      <div class="header">
        <h1>üéÆ Game Zone</h1>
        <p class="subtitle" data-i18n="subtitle">–ò–≥—Ä–∞–π —Å –¥—Ä—É–∑—å—è–º–∏!</p>
      </div>

      <!-- Settings Bar (click to open settings) -->
      <div class="settings-bar" onclick="toggleSettings()">
        <span class="settings-bar-icon">‚öôÔ∏è</span>
        <span class="settings-bar-text" data-i18n="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        <span class="settings-bar-arrow">‚Ä∫</span>
      </div>

      <!-- Settings Panel (Telegram-style) -->
      <div id="settings-panel" class="settings-panel hidden">
        <div class="settings-header">
          <h3>‚öôÔ∏è <span data-i18n="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></h3>
        </div>

        <div class="settings-content">
          <!-- Language Selection -->
          <div class="settings-section">
            <h4>üåç <span data-i18n="language">–Ø–∑—ã–∫</span></h4>
            <div class="settings-options">
              <button class="option-btn selected" data-lang="ru" onclick="setLanguage('ru')">
                üá∑üá∫ –†—É—Å—Å–∫–∏–π
              </button>
              <button class="option-btn" data-lang="en" onclick="setLanguage('en')">
                üá¨üáß English
              </button>
              <button class="option-btn" data-lang="zh" onclick="setLanguage('zh')">
                üá®üá≥ ‰∏≠Êñá
              </button>
            </div>
          </div>

          <!-- Theme Selection -->
          <div class="settings-section">
            <h4>üé® <span data-i18n="theme">–¢–µ–º–∞</span></h4>
            <div class="settings-options">
              <button class="option-btn selected" data-theme="dark" onclick="setTheme('dark')">
                üåô <span data-i18n="dark">–¢—ë–º–Ω–∞—è</span>
              </button>
              <button class="option-btn" data-theme="light" onclick="setTheme('light')">
                ‚òÄÔ∏è <span data-i18n="light">–°–≤–µ—Ç–ª–∞—è</span>
              </button>
            </div>
          </div>

          <!-- Divider -->
          <div class="settings-divider"></div>

          <!-- Support Developer -->
          <div class="settings-section">
            <h4>üíù <span data-i18n="support_dev">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</span></h4>
            <a href="https://www.donationalerts.com/r/chachka_chipcov" target="_blank" class="donate-btn"
              onclick="App.haptic('medium')">
              <span class="donate-icon">üí∞</span>
              <span data-i18n="donate">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å</span>
              <span class="donate-platform">DonationAlerts</span>
            </a>
          </div>

          <!-- Help / Support -->
          <div class="settings-section">
            <h4>‚ùì <span data-i18n="help">–ü–æ–º–æ—â—å</span></h4>
            <a href="https://t.me/GameZzoneHelp_bot" target="_blank" class="help-btn" onclick="App.haptic('light')">
              <span class="help-icon">ü§ñ</span>
              <span data-i18n="contact_support">–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</span>
              <span class="help-arrow">‚Üí</span>
            </a>
          </div>

          <!-- Info Accordion -->
          <div class="settings-section info-accordion">
            <button class="accordion-header" onclick="toggleInfo()">
              <span>‚ÑπÔ∏è</span>
              <span data-i18n="information">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
              <span class="accordion-arrow">‚ñº</span>
            </button>
            <div id="info-content" class="accordion-content hidden">
              <p>üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Game Zone –Ω–∞—á–∞–ª–∞—Å—å <strong>20 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞</strong>.</p>
              <p>üìà –ü—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∏ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞—Å—Ç–∏!</p>
              <p>üéÆ –í–ø–µ—Ä–µ–¥–∏ –Ω–æ–≤—ã–µ –∏–≥—Ä—ã, —É–ª—É—á—à–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏.</p>
              <p>üíú –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏–≥—Ä–∞–µ—Ç–µ —Å –Ω–∞–º–∏!</p>
            </div>
          </div>

          <!-- About (under Info) -->
          <div class="settings-section settings-about">
            <div class="about-item">
              <span>üë®‚Äçüíª</span>
              <span data-i18n="developer">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</span>
              <span class="about-value">@Chachka_Chipcov</span>
            </div>
            <div class="about-item">
              <span>üì±</span>
              <span data-i18n="version">–í–µ—Ä—Å–∏—è</span>
              <span class="about-value">1.2.0</span>
            </div>
          </div>

          <!-- Close Button -->
          <button class="settings-close-btn" onclick="toggleSettings()">
            <span data-i18n="close_settings">–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>
          </button>
        </div>
      </div>

      <!-- Game Tabs -->
      <div class="game-tabs">
        <button class="tab-btn active" data-tab="multiplayer" onclick="switchTab('multiplayer')">
          üë• <span data-i18n="tab_friends">–° –¥—Ä—É–∑—å—è–º–∏</span>
        </button>
        <button class="tab-btn" data-tab="solo" onclick="switchTab('solo')">
          üéÆ <span data-i18n="tab_solo">–û–¥–Ω–æ–º—É</span>
        </button>
      </div>

      <!-- Multiplayer Games -->
      <div class="tab-content active" data-tab="multiplayer">
        <div class="games-grid">
          <div class="game-card" onclick="selectGame('rps')">
            <div class="game-icon">
              <span class="emoji-bounce">‚úä</span>
              <span class="emoji-bounce delay-1">‚úã</span>
              <span class="emoji-bounce delay-2">‚úåÔ∏è</span>
            </div>
            <h3 data-i18n="rps_title">–ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞</h3>
            <p data-i18n="rps_desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ –Ω–∞ —É–¥–∞—á—É</p>
          </div>

          <div class="game-card" onclick="selectGame('tictactoe')">
            <div class="game-icon ttt-grid">
              <span>‚ùå</span>
              <span>‚≠ï</span>
              <span>‚ùå</span>
            </div>
            <h3 data-i18n="ttt_title">–ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏</h3>
            <p data-i18n="ttt_desc">–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –¥—É—ç–ª—å 3x3</p>
          </div>

          <div class="game-card" onclick="selectGame('chess')">
            <div class="game-icon">
              <span class="emoji-bounce">‚ôüÔ∏è</span>
              <span class="emoji-bounce delay-1">‚ôö</span>
              <span class="emoji-bounce delay-2">‚ôõ</span>
            </div>
            <h3>–®–∞—Ö–º–∞—Ç—ã</h3>
            <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</p>
          </div>

          <div class="game-card" onclick="selectGame('checkers')">
            <div class="game-icon">
              <span class="emoji-bounce">‚ö´</span>
              <span class="emoji-bounce delay-1">‚ö™</span>
              <span class="emoji-bounce delay-2">üëë</span>
            </div>
            <h3>–®–∞—à–∫–∏</h3>
            <p>–†—É—Å—Å–∫–∏–µ —à–∞—à–∫–∏ 8√ó8</p>
          </div>

          <div class="game-card" onclick="selectGame('battleship')">
            <div class="game-icon">
              <span class="ship-float">üö¢</span>
              <span class="explosion">üí•</span>
            </div>
            <h3 data-i18n="bs_title">–ú–æ—Ä—Å–∫–æ–π –ë–æ–π</h3>
            <p data-i18n="bs_desc">–ü–æ—Ç–æ–ø–∏ —Ñ–ª–æ—Ç –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞!</p>
          </div>

          <div class="game-card" onclick="selectGame('durak')">
            <div class="game-icon">
              <span class="card-float">üÉè</span>
              <span class="card-float delay-1">‚ô†Ô∏è</span>
              <span class="card-float delay-2">‚ô•Ô∏è</span>
            </div>
            <h3 data-i18n="durak_title">–î—É—Ä–∞–∫</h3>
            <p data-i18n="durak_desc">–ö–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ 2-7 –∏–≥—Ä–æ–∫–æ–≤</p>
          </div>

          <div class="game-card" onclick="selectGame('uno')">
            <div class="game-icon uno-cards">
              <span style="color: #ff5555;">üî¥</span>
              <span style="color: #55ff55;">üü¢</span>
              <span style="color: #5555ff;">üîµ</span>
              <span style="color: #ffff55;">üü°</span>
            </div>
            <h3 data-i18n="uno_title">UNO</h3>
            <p data-i18n="uno_desc">–¶–≤–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã 2-7 –∏–≥—Ä–æ–∫–æ–≤</p>
          </div>

          <div class="game-card" onclick="selectGame('mafia')">
            <div class="game-icon">
              <span class="emoji-bounce">üé≠</span>
              <span class="emoji-bounce delay-1">üî´</span>
              <span class="emoji-bounce delay-2">üïµÔ∏è</span>
            </div>
            <h3 data-i18n="mafia_title">–ú–∞—Ñ–∏—è</h3>
            <p data-i18n="mafia_desc">–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ 5-12 –∏–≥—Ä–æ–∫–æ–≤</p>
            <span class="beta-badge" data-i18n="beta">–ë–ï–¢–ê</span>
          </div>

          <div class="game-card" onclick="selectGame('monopoly')">
            <div class="game-icon">
              <span>üé≤</span>
              <span>üè†</span>
              <span>üí∞</span>
            </div>
            <h3 data-i18n="monopoly_title">–ú–æ–Ω–æ–ø–æ–ª–∏—è</h3>
            <p data-i18n="monopoly_desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞</p>
            <span class="beta-badge" data-i18n="beta">–ë–ï–¢–ê</span>
          </div>
        </div>
      </div>

      <!-- Solo Games -->
      <div class="tab-content" data-tab="solo">
        <div class="games-grid">
          <div class="game-card" onclick="startSoloGame('minesweeper')">
            <div class="game-icon">
              <span class="emoji-bounce">üí£</span>
              <span class="emoji-bounce delay-1">üö©</span>
              <span class="emoji-bounce delay-2">üí•</span>
            </div>
            <h3 data-i18n="ms_title">–°–∞–ø—ë—Ä</h3>
            <p data-i18n="ms_desc">–ù–∞–π–¥–∏ –≤—Å–µ –º–∏–Ω—ã!</p>
          </div>

          <div class="game-card" onclick="startSoloGame('snake')">
            <div class="game-icon">
              <span class="emoji-bounce">üêç</span>
              <span class="emoji-bounce delay-1">üçé</span>
              <span class="emoji-bounce delay-2">‚¨õ</span>
            </div>
            <h3 data-i18n="snake_title">–ó–º–µ–π–∫–∞</h3>
            <p data-i18n="snake_desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞—Ä–∫–∞–¥–∞</p>
          </div>

          <div class="game-card" onclick="startSoloGame('match3')">
            <div class="game-icon">
              <span class="emoji-bounce">üî¥</span>
              <span class="emoji-bounce delay-1">üü¢</span>
              <span class="emoji-bounce delay-2">üîµ</span>
            </div>
            <h3 data-i18n="m3_title">3 –≤ —Ä—è–¥</h3>
            <p data-i18n="m3_desc">–°–æ–±–∏—Ä–∞–π –∫—Ä–∏—Å—Ç–∞–ª–ª—ã!</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Room Screen -->
    <div id="room" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2 id="room-title">–ö–æ–º–Ω–∞—Ç–∞</h2>
      </div>

      <div class="room-content">
        <div id="waiting-view" class="waiting">
          <div class="loader"></div>
          <p>–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞...</p>

          <div class="room-code-display">
            <p class="room-code-label">–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</p>
            <div class="room-code-box">
              <span id="room-code-text" class="room-code-text"></span>
              <button class="copy-code-btn" onclick="copyRoomCode()" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">
                üìã
              </button>
            </div>
            <p class="room-code-hint">–ü—Ä–æ–¥–∏–∫—Ç—É–π –∫–æ–¥ –¥—Ä—É–≥—É –∏–ª–∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ</p>
          </div>

          <div class="invite-section">
            <button class="invite-btn" onclick="shareInvite()">
              üì§ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞
            </button>
          </div>
        </div>

        <div id="join-view" class="join hidden">
          <div class="join-methods">
            <button class="join-method active" data-method="code" onclick="showJoinMethod('code')">
              <span class="method-icon">üìù</span>
              <span class="method-text">–ü–æ –∫–æ–¥—É</span>
            </button>
            <button class="join-method" data-method="link" onclick="showJoinMethod('link')">
              <span class="method-icon">üîó</span>
              <span class="method-text">–ü–æ —Å—Å—ã–ª–∫–µ</span>
            </button>
            <button class="join-method" data-method="rooms" onclick="showJoinMethod('rooms')">
              <span class="method-icon">üåê</span>
              <span class="method-text">–ö–æ–º–Ω–∞—Ç—ã</span>
            </button>
          </div>

          <div id="join-by-code" class="join-section">
            <p class="join-hint">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</p>
            <input type="text" id="room-code-input" placeholder="XXXXXXXX" maxlength="8">
            <input type="text" id="room-password-input" class="hidden" placeholder="–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –µ—Å—Ç—å)" maxlength="20">
            <button class="btn primary" onclick="joinRoom()">‚úÖ –í–æ–π—Ç–∏</button>
          </div>

          <div id="join-by-link" class="join-section hidden">
            <p class="join-hint">–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:</p>
            <input type="text" id="room-link-input" placeholder="https://t.me/...">
            <button class="btn primary" onclick="joinByLink()">‚úÖ –í–æ–π—Ç–∏</button>
          </div>

          <div id="room-browser" class="join-section hidden">
            <div class="rooms-header">
              <div class="rooms-filter">
                <button class="filter-btn active" data-filter="all" onclick="filterRooms('all')">–í—Å–µ</button>
                <button class="filter-btn" data-filter="open" onclick="filterRooms('open')">üîì</button>
                <button class="filter-btn" data-filter="locked" onclick="filterRooms('locked')">üîí</button>
              </div>
              <button class="refresh-btn" onclick="refreshRoomList()">üîÑ</button>
            </div>
            <div id="rooms-list" class="rooms-list">
              <p class="rooms-loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–Ω–∞—Ç...</p>
            </div>
          </div>
        </div>
      </div>

      <div class="room-actions">
        <div id="room-create-form" class="room-create-form hidden">
          <div class="form-row">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="room-private-toggle" onchange="toggleRoomPassword()">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div id="room-password-row" class="form-row hidden">
            <input type="text" id="create-room-password" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞" maxlength="20">
          </div>
          <button class="btn primary" onclick="confirmCreateRoom()">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
          <button class="btn secondary" onclick="cancelCreateRoom()">‚ùå –û—Ç–º–µ–Ω–∞</button>
        </div>
        <div id="room-buttons" class="room-buttons">
          <button class="btn primary" onclick="showCreateRoomForm()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- RPS Game Screen -->
    <div id="rps-game" class="screen">
      <div class="game-header">
        <div class="player-info">
          <span class="player-name" id="rps-player1">–í—ã</span>
          <span class="score" id="rps-score1">0</span>
        </div>
        <div class="vs">VS</div>
        <div class="player-info">
          <span class="score" id="rps-score2">0</span>
          <span class="player-name" id="rps-player2">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
        </div>
      </div>

      <div class="rps-arena">
        <div class="rps-hand left" id="rps-left-hand">‚ùì</div>
        <div class="rps-vs-text">VS</div>
        <div class="rps-hand right" id="rps-right-hand">‚ùì</div>
      </div>

      <div class="rps-result" id="rps-result"></div>

      <div class="rps-choices">
        <button class="rps-choice" data-choice="rock" onclick="makeRPSChoice('rock')">
          <span>‚úä</span>
          <small>–ö–∞–º–µ–Ω—å</small>
        </button>
        <button class="rps-choice" data-choice="paper" onclick="makeRPSChoice('paper')">
          <span>‚úã</span>
          <small>–ë—É–º–∞–≥–∞</small>
        </button>
        <button class="rps-choice" data-choice="scissors" onclick="makeRPSChoice('scissors')">
          <span>‚úåÔ∏è</span>
          <small>–ù–æ–∂–Ω–∏—Ü—ã</small>
        </button>
      </div>
    </div>

    <!-- TicTacToe Game Screen -->
    <div id="ttt-game" class="screen">
      <div class="game-header">
        <div class="player-info">
          <span class="player-name" id="ttt-player1">–í—ã (X)</span>
        </div>
        <div class="turn-indicator" id="ttt-turn">–í–∞—à —Ö–æ–¥</div>
        <div class="player-info">
          <span class="player-name" id="ttt-player2">–°–æ–ø–µ—Ä–Ω–∏–∫ (O)</span>
        </div>
      </div>

      <div class="ttt-board" id="ttt-board">
        <div class="ttt-cell" data-index="0" onclick="makeTTTMove(0)"></div>
        <div class="ttt-cell" data-index="1" onclick="makeTTTMove(1)"></div>
        <div class="ttt-cell" data-index="2" onclick="makeTTTMove(2)"></div>
        <div class="ttt-cell" data-index="3" onclick="makeTTTMove(3)"></div>
        <div class="ttt-cell" data-index="4" onclick="makeTTTMove(4)"></div>
        <div class="ttt-cell" data-index="5" onclick="makeTTTMove(5)"></div>
        <div class="ttt-cell" data-index="6" onclick="makeTTTMove(6)"></div>
        <div class="ttt-cell" data-index="7" onclick="makeTTTMove(7)"></div>
        <div class="ttt-cell" data-index="8" onclick="makeTTTMove(8)"></div>
      </div>

      <div class="ttt-result" id="ttt-result"></div>
      <button class="btn primary hidden" id="ttt-rematch" onclick="requestRematch()">üîÑ –ï—â—ë —Ä–∞–∑</button>
    </div>

    <!-- Battleship Game Screen -->
    <div id="bs-game" class="screen">
      <div class="bs-phase" id="bs-phase">
        <!-- Placement Phase -->
        <div id="bs-placement" class="bs-placement">
          <h3>–†–∞—Å—Å—Ç–∞–≤—å—Ç–µ –∫–æ—Ä–∞–±–ª–∏</h3>
          <p class="bs-hint">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ç–∫—É</p>

          <div class="bs-rotation-controls">
            <button class="rotation-btn" id="rotation-btn" onclick="toggleShipRotation()">
              <span id="rotation-icon">‚û°Ô∏è</span>
              <span id="rotation-text">–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ</span>
            </button>
          </div>

          <div class="bs-ships-to-place" id="ships-to-place">
            <div class="ship-row">
              <div class="ship-item" data-size="4" data-id="4a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢üö¢</span>
                <small>4 –∫–ª √ó 1</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="3" data-id="3a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢</span>
                <small>3 –∫–ª</small>
              </div>
              <div class="ship-item" data-size="3" data-id="3b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢</span>
                <small>3 –∫–ª</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="2" data-id="2a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
              <div class="ship-item" data-size="2" data-id="2b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
              <div class="ship-item" data-size="2" data-id="2c" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="1" data-id="1a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1c" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1d" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
            </div>
          </div>

          <div class="bs-grid placement" id="bs-placement-grid"></div>

          <button class="btn primary" id="bs-ready-btn" onclick="confirmPlacement()" disabled>
            ‚úÖ –ì–æ—Ç–æ–≤ –∫ –±–æ—é!
          </button>
        </div>

        <!-- Battle Phase -->
        <div id="bs-battle" class="bs-battle hidden">
          <div class="bs-turn-indicator" id="bs-turn">–í–∞—à —Ö–æ–¥!</div>

          <div class="bs-grids">
            <div class="bs-grid-container">
              <h4>–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫</h4>
              <div class="bs-grid enemy" id="bs-enemy-grid"></div>
            </div>
            <div class="bs-grid-container">
              <h4>–í–∞—à —Ñ–ª–æ—Ç</h4>
              <div class="bs-grid own" id="bs-own-grid"></div>
            </div>
          </div>

          <div class="bs-ships-status" id="bs-ships-status"></div>
        </div>
      </div>

      <div class="bs-result hidden" id="bs-result"></div>
    </div>

    <!-- RPS Room Setup Screen -->
    <!-- Chess Setup Screen -->
    <div id="chess-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>‚ôüÔ∏è –®–∞—Ö–º–∞—Ç—ã - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>
      <div class="setup-content">
        <div class="setup-section">
          <h3>‚è±Ô∏è –¢–∞–π–º–µ—Ä:</h3>
          <div class="mode-selector">
            <button class="mode-btn selected" data-timer="0" onclick="selectChessTimer(this, 0)">
              <span>‚ôæÔ∏è</span>
              <strong>–ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞</strong>
            </button>
            <button class="mode-btn" data-timer="5" onclick="selectChessTimer(this, 5)">
              <span>‚ö°</span>
              <strong>5 –º–∏–Ω</strong>
              <small>–ë–ª–∏—Ü</small>
            </button>
            <button class="mode-btn" data-timer="10" onclick="selectChessTimer(this, 10)">
              <span>‚è∞</span>
              <strong>10 –º–∏–Ω</strong>
              <small>–†–∞–ø–∏–¥</small>
            </button>
            <button class="mode-btn" data-timer="15" onclick="selectChessTimer(this, 15)">
              <span>üïê</span>
              <strong>15 –º–∏–Ω</strong>
              <small>–ö–ª–∞—Å—Å–∏–∫–∞</small>
            </button>
          </div>
        </div>
        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="chess-private-toggle" onchange="toggleSetupPassword('chess')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="chess-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>
        <div class="setup-actions">
          <button class="btn primary" onclick="createChessRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Checkers Setup Screen -->
    <div id="checkers-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üèÅ –®–∞—à–∫–∏ - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>
      <div class="setup-content">
        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="checkers-private-toggle" onchange="toggleSetupPassword('checkers')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="checkers-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>
        <div class="setup-actions">
          <button class="btn primary" onclick="createCheckersRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <div id="rps-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>‚úä‚úã‚úåÔ∏è –ö–ù–ë - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–î–æ —Å–∫–æ–ª—å–∫–∏ –ø–æ–±–µ–¥ –∏–≥—Ä–∞–µ–º?</h3>
          <div class="slider-container">
            <input type="range" id="rps-wins-slider" class="wins-slider" min="1" max="100" value="3"
              oninput="updateRpsWinsDisplay(this.value)">
            <div class="slider-value" id="rps-wins-value">3</div>
          </div>
          <div class="slider-labels">
            <span>1</span>
            <span>25</span>
            <span>50</span>
            <span>75</span>
            <span>100</span>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="rps-private-toggle" onchange="toggleSetupPassword('rps')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="rps-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createRpsRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Durak Room Setup Screen -->
    <div id="durak-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üÉè –î—É—Ä–∞–∫ - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–†–µ–∂–∏–º –∏–≥—Ä—ã:</h3>
          <div class="mode-selector">
            <button class="mode-btn selected" data-mode="podkidnoy" onclick="selectDurakMode('podkidnoy')">
              <span>üéØ</span>
              <strong>–ü–æ–¥–∫–∏–¥–Ω–æ–π</strong>
              <small>–ü–æ–¥–∫–∏–¥—ã–≤–∞–π –∫–∞—Ä—Ç—ã —Ç–æ–≥–æ –∂–µ –Ω–æ–º–∏–Ω–∞–ª–∞</small>
            </button>
            <button class="mode-btn" data-mode="perevodnoy" onclick="selectDurakMode('perevodnoy')">
              <span>üîÑ</span>
              <strong>–ü–µ—Ä–µ–≤–æ–¥–Ω–æ–π</strong>
              <small>–ü–µ—Ä–µ–≤–æ–¥–∏ –∞—Ç–∞–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ</small>
            </button>
            <button class="mode-btn" data-mode="combined" onclick="selectDurakMode('combined')">
              <span>‚ö°</span>
              <strong>–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</strong>
              <small>–ü–æ–¥–∫–∏–¥—ã–≤–∞–π –∏ –ø–µ—Ä–µ–≤–æ–¥–∏</small>
            </button>
          </div>
        </div>

        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectPlayerCount(6)">6</button>
            <button class="player-btn" data-count="7" onclick="selectPlayerCount(7)">7</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="durak-private-toggle" onchange="toggleSetupPassword('durak')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="durak-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-notice">
          <p>‚ö†Ô∏è –î–æ—Ä–æ–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å! –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏
              ‚Üí –¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞</strong></p>
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createDurakRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Durak Game Screen -->
    <div id="durak-game" class="screen">
      <!-- Status Bar -->
      <div class="dk-status" id="dk-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...</div>

      <!-- Opponents Area -->
      <div class="dk-opponents-area" id="dk-players">
        <!-- Rendered by JS -->
      </div>

      <!-- Main Game Area -->
      <div class="dk-game-area">
        <!-- Deck & Trump -->
        <div class="dk-deck-area" id="dk-deck-area">
          <!-- Rendered by JS -->
        </div>

        <!-- Table -->
        <div class="dk-table-area">
          <div id="dk-table">
            <div class="dk-table-empty">–ë—Ä–æ—Å—å—Ç–µ –∫–∞—Ä—Ç—É</div>
          </div>
        </div>
      </div>

      <!-- Hand & Actions -->
      <div class="dk-hand-area">
        <div class="dk-actions">
          <button class="dk-action-btn" id="dk-take-btn" onclick="durakTake()">üì• –ë–µ—Ä—É</button>
          <button class="dk-action-btn" id="dk-pass-btn" onclick="durakPass()">‚úÖ –ë–∏—Ç–æ</button>
        </div>
        <div id="dk-hand">
          <!-- Rendered by JS -->
        </div>
      </div>
    </div>

    <!-- UNO Setup Screen -->
    <div id="uno-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üé¥ UNO - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectUnoPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectUnoPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectUnoPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectUnoPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectUnoPlayerCount(6)">6</button>
            <button class="player-btn" data-count="7" onclick="selectUnoPlayerCount(7)">7</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="uno-private-toggle" onchange="toggleSetupPassword('uno')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="uno-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-notice">
          <p>‚ö†Ô∏è –î–æ—Ä–æ–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å! –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏
              ‚Üí –¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞</strong></p>
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createUnoRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- UNO Game Screen -->
    <div id="uno-game" class="screen">
      <!-- Game table area -->
      <div class="uno-table">
        <!-- Draw deck on left -->
        <div class="uno-draw-deck" id="uno-draw-deck" onclick="unoDraw()">
          <div class="deck-cards"></div>
          <span class="deck-count" id="uno-deck-count">52</span>
        </div>

        <!-- Discard pile in center -->
        <div class="uno-discard" id="uno-pile">
          <!-- Current card -->
        </div>
      </div>

      <!-- Players info -->
      <div class="uno-players-bar" id="uno-players">
        <!-- Will show: –í—ã (8 –∫–∞—Ä—Ç) | Zhmalll (3 –∫–∞—Ä—Ç—ã) -->
      </div>

      <!-- Status hint -->
      <div class="uno-status" id="uno-status">–í–∞—à —Ö–æ–¥!</div>

      <!-- Action buttons -->
      <div class="uno-actions" id="uno-actions">
        <button class="btn-draw" onclick="unoDraw()">–í–∑—è—Ç—å –∫–∞—Ä—Ç—É</button>
        <button class="btn-uno hidden" id="uno-call" onclick="unoCall()">UNO!</button>
      </div>

      <!-- Player hand -->
      <div class="uno-hand" id="uno-hand">
        <!-- Player's cards -->
      </div>
    </div>

    <!-- Monopoly Setup Screen -->
    <div id="monopoly-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üé≤ –ú–æ–Ω–æ–ø–æ–ª–∏—è - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectMonopolyPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectMonopolyPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectMonopolyPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectMonopolyPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectMonopolyPlayerCount(6)">6</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="monopoly-private-toggle" onchange="toggleSetupPassword('monopoly')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="monopoly-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createMonopolyRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Monopoly Game Screen -->
    <div id="monopoly-game" class="screen">
      <!-- Header with status -->
      <div class="mp-header">
        <div class="mp-status" id="mp-status">–í–∞—à —Ö–æ–¥!</div>
      </div>

      <!-- Classic Square Board -->
      <div class="mp-board-wrapper">
        <div class="mp-classic-board" id="mp-board">
          <!-- Board cells will be rendered by JS in correct positions -->
        </div>

        <!-- Center area with info -->
        <div class="mp-center-area">
          <div class="mp-center-logo">üé© MONOPOLY</div>
          <div class="mp-center-dice" id="mp-center-dice">
            <span class="mp-die" id="mp-die1">‚öÄ</span>
            <span class="mp-die" id="mp-die2">‚öÄ</span>
          </div>
        </div>
      </div>

      <!-- Player info bar -->
      <div class="mp-player-panel">
        <div class="mp-my-info" id="mp-my-info">
          <span class="mp-money">üíµ $1500</span>
          <span class="mp-properties">üè† 0</span>
        </div>
        <div class="mp-players-list" id="mp-players"></div>
      </div>

      <!-- Action buttons -->
      <div class="mp-actions-bar">
        <button class="btn primary mp-roll-btn" id="mp-roll-btn" onclick="MonopolyPlus.roll()">
          üé≤ –ö–æ—Å—Ç–∏
        </button>
        <button class="btn secondary" id="mp-props-btn" onclick="MonopolyPlus.showMyProperties()">
          üè†
        </button>
        <button class="btn secondary" id="mp-trade-btn" onclick="MonopolyPlus.showTradeDialog()">
          ü§ù
        </button>
        <button class="btn secondary" id="mp-end-btn" onclick="MonopolyPlus.endTurn()">
          ‚úÖ –ì–æ—Ç–æ–≤–æ
        </button>
      </div>
    </div>

    <!-- Minesweeper Screen -->
    <div id="minesweeper-game" class="screen">
      <div class="ms-header">
        <button class="back-btn" onclick="goBackToLobby()">‚Üê</button>
        <h2>üí£ <span data-i18n="ms_title">–°–∞–ø—ë—Ä</span></h2>
        <div class="ms-info">
          <span id="ms-mines-count">üö© 10</span>
          <span id="ms-timer">‚è± 0:00</span>
        </div>
      </div>
      <div class="ms-difficulty">
        <button class="ms-diff-btn active" data-diff="easy" onclick="Minesweeper.setDifficulty('easy')">
          <span data-i18n="ms_easy">–õ—ë–≥–∫–∏–π</span><br><small>9√ó9 ¬∑ 10 –º–∏–Ω</small>
        </button>
        <button class="ms-diff-btn" data-diff="medium" onclick="Minesweeper.setDifficulty('medium')">
          <span data-i18n="ms_medium">–°—Ä–µ–¥–Ω–∏–π</span><br><small>16√ó16 ¬∑ 40 –º–∏–Ω</small>
        </button>
        <button class="ms-diff-btn" data-diff="hard" onclick="Minesweeper.setDifficulty('hard')">
          <span data-i18n="ms_hard">–°–ª–æ–∂–Ω—ã–π</span><br><small>16√ó30 ¬∑ 99 –º–∏–Ω</small>
        </button>
      </div>
      <div id="ms-field" class="ms-field"></div>
      <div id="ms-result" class="ms-result hidden">
        <div class="ms-result-content">
          <h2 id="ms-result-title"></h2>
          <p id="ms-result-text"></p>
          <button class="btn primary" onclick="Minesweeper.restart()">üîÑ <span data-i18n="ms_restart">–ï—â—ë
              —Ä–∞–∑</span></button>
        </div>
      </div>
    </div>

    <!-- Snake Screen -->
    <div id="snake-game" class="screen">
      <div class="snake-header">
        <button class="back-btn" onclick="goBackToLobby()">‚Üê</button>
        <h2>üêç <span data-i18n="snake_title">–ó–º–µ–π–∫–∞</span></h2>
        <div class="snake-info">
          <span id="snake-score">üçé 0</span>
          <span id="snake-best">üèÜ 0</span>
        </div>
      </div>
      <div class="snake-canvas-wrap">
        <canvas id="snake-canvas"></canvas>
      </div>
      <div id="snake-overlay" class="snake-overlay">
        <div class="snake-overlay-content">
          <h2 id="snake-overlay-title">üêç –ó–º–µ–π–∫–∞</h2>
          <p id="snake-overlay-text" data-i18n="snake_start">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</p>
          <button class="btn primary" id="snake-start-btn" onclick="SnakeGame.start()">‚ñ∂ <span
              data-i18n="snake_play">–ò–≥—Ä–∞—Ç—å</span></button>
        </div>
      </div>
      <!-- D-pad controls -->
      <div class="snake-dpad">
        <button class="snake-dpad-btn" data-dir="up" ontouchstart="SnakeGame.dpad('up')"
          onclick="SnakeGame.dpad('up')">‚ñ≤</button>
        <button class="snake-dpad-btn" data-dir="left" ontouchstart="SnakeGame.dpad('left')"
          onclick="SnakeGame.dpad('left')">‚óÄ</button>
        <button class="snake-dpad-btn" data-dir="right" ontouchstart="SnakeGame.dpad('right')"
          onclick="SnakeGame.dpad('right')">‚ñ∂</button>
        <button class="snake-dpad-btn" data-dir="down" ontouchstart="SnakeGame.dpad('down')"
          onclick="SnakeGame.dpad('down')">‚ñº</button>
      </div>
    </div>

    <!-- Mafia Screen -->
    <div id="mafia-screen" class="screen">
      <div class="mf-header">
        <button class="back-btn" onclick="goBackToLobby()">‚Üê</button>
        <h2>üé≠ <span data-i18n="mafia_title">–ú–∞—Ñ–∏—è</span> <span class="beta-badge">–ë–ï–¢–ê</span></h2>
      </div>

      <!-- Mafia Mode Selection -->
      <div id="mf-mode-select" class="mf-mode-select">
        <h3 data-i18n="mf_choose_mode">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º</h3>
        <div class="mf-modes">
          <div class="mf-mode-card" onclick="MafiaGame.selectMode('bot')">
            <span class="mf-mode-icon">ü§ñ</span>
            <h4 data-i18n="mf_bot_host">–ë–æ—Ç-–≤–µ–¥—É—â–∏–π</h4>
            <p data-i18n="mf_bot_desc">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∑—ã –∏ —Ä–∞–∑–¥–∞—á–∞ —Ä–æ–ª–µ–π</p>
          </div>
          <div class="mf-mode-card" onclick="MafiaGame.selectMode('human')">
            <span class="mf-mode-icon">üßë</span>
            <h4 data-i18n="mf_human_host">–ß–µ–ª–æ–≤–µ–∫-–≤–µ–¥—É—â–∏–π</h4>
            <p data-i18n="mf_human_desc">–ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–æ–≤, –≤–µ–¥—É—â–∏–π —É–ø—Ä–∞–≤–ª—è–µ—Ç</p>
          </div>
        </div>
      </div>

      <!-- Mafia Game Area -->
      <div id="mf-game-area" class="mf-game-area hidden">
        <!-- Phase overlay -->
        <div id="mf-phase-overlay" class="mf-phase-overlay hidden">
          <div class="mf-phase-text" id="mf-phase-text"></div>
        </div>

        <!-- Status -->
        <div id="mf-status" class="mf-status"></div>

        <!-- Players circle -->
        <div id="mf-players" class="mf-players"></div>

        <!-- Your role card -->
        <div id="mf-role-card" class="mf-role-card hidden">
          <div class="mf-role-inner">
            <span id="mf-role-icon" class="mf-role-icon"></span>
            <h3 id="mf-role-name"></h3>
            <p id="mf-role-desc"></p>
          </div>
        </div>

        <!-- Action area -->
        <div id="mf-actions" class="mf-actions hidden">
          <h4 id="mf-action-title"></h4>
          <div id="mf-action-targets" class="mf-action-targets"></div>
        </div>

        <!-- Voting area -->
        <div id="mf-voting" class="mf-voting hidden">
          <h4 data-i18n="mf_vote_title">üó≥ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</h4>
          <div id="mf-vote-targets" class="mf-vote-targets"></div>
        </div>

        <!-- Chat/Discussion -->
        <div id="mf-chat" class="mf-chat hidden">
          <h4 style="margin:0 0 8px;font-size:0.9rem;opacity:0.7">üí¨ –ß–∞—Ç</h4>
          <div id="mf-chat-messages" class="mf-chat-messages"></div>
          <div class="mf-chat-input">
            <input type="text" id="mf-chat-text" placeholder="üí¨ –û–±—Å—É–∂–¥–∞–π—Ç–µ, –∫—Ç–æ –º–∞—Ñ–∏—è..." maxlength="200"
              onkeypress="if(event.key==='Enter')MafiaGame.sendChat()">
            <button id="mf-chat-send" onclick="MafiaGame.sendChat()">üì§</button>
          </div>
        </div>

        <!-- Dice roll (for human host) -->
        <div id="mf-dice-area" class="mf-dice-area hidden">
          <h3 data-i18n="mf_dice_title">üé≤ –ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–æ–≤</h3>
          <div id="mf-dice-result" class="mf-dice-result"></div>
          <button class="btn primary" id="mf-dice-btn" onclick="MafiaGame.rollDice()">üé≤ <span
              data-i18n="mf_roll">–ë—Ä–æ—Å–∏—Ç—å</span></button>
        </div>
      </div>
    </div>

    <!-- Match-3 Screen -->
    <div id="match3-game" class="screen">
      <div class="m3-header">
        <button class="back-btn" onclick="Match3Game.showingMap ? goBackToLobby() : Match3Game.showMap()">‚Üê</button>
        <h2>üíé <span data-i18n="m3_title">3 –≤ —Ä—è–¥</span></h2>
        <div class="m3-info" style="display:none">
          <span id="m3-score">‚≠ê 0</span>
          <span id="m3-moves">üîÑ 30</span>
          <span id="m3-best">üìç –£—Ä. 1</span>
        </div>
      </div>
      <div id="m3-field" class="m3-field"></div>
      <div id="m3-result" class="m3-result hidden">
        <div class="m3-result-content">
          <h2 id="m3-result-title"></h2>
          <p id="m3-result-text"></p>
          <button class="btn primary">‚ñ∂ –ò–≥—Ä–∞—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- Chess Screen -->
    <div id="chess-game" class="screen">
      <div class="game-header">
        <button class="back-btn" onclick="goBackToLobby()">‚Üê</button>
        <h2>‚ôüÔ∏è –®–∞—Ö–º–∞—Ç—ã</h2>
      </div>
      <div class="chess-players">
        <div class="chess-pinfo opp">
          <span id="chess-player2">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
          <span id="chess-timer2" class="chess-timer"></span>
          <div id="chess-captured2" class="chess-captured"></div>
        </div>
      </div>
      <div id="chess-turn" class="turn-indicator">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
      <div id="chess-board" class="chess-board"></div>
      <div class="chess-players">
        <div class="chess-pinfo me">
          <span id="chess-player1">–í—ã</span>
          <span id="chess-timer1" class="chess-timer"></span>
          <div id="chess-captured1" class="chess-captured"></div>
        </div>
      </div>
      <div class="chess-actions">
        <button class="btn secondary" onclick="Chess.resign()">üè≥Ô∏è –°–¥–∞—Ç—å—Å—è</button>
      </div>
      <div id="chess-promotion" class="chess-promotion hidden"></div>
      <div id="chess-result" class="game-result hidden">
        <h2 id="chess-result-title"></h2>
        <p id="chess-result-text"></p>
        <button id="chess-rematch" class="btn primary hidden" onclick="requestRematch()">üîÑ –†–µ–≤–∞–Ω—à</button>
      </div>
    </div>

    <!-- Checkers Screen -->
    <div id="checkers-game" class="screen">
      <div class="game-header">
        <button class="back-btn" onclick="goBackToLobby()">‚Üê</button>
        <h2>üèÅ –®–∞—à–∫–∏</h2>
      </div>
      <div class="chess-players">
        <div class="chess-pinfo opp">
          <span id="ck-player2">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
          <span id="ck-timer2" class="chess-timer"></span>
          <span id="ck-captured2" class="chess-captured"></span>
        </div>
      </div>
      <div id="ck-turn" class="turn-indicator">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
      <div id="checkers-board" class="chess-board"></div>
      <div class="chess-players">
        <div class="chess-pinfo me">
          <span id="ck-player1">–í—ã</span>
          <span id="ck-timer1" class="chess-timer"></span>
          <span id="ck-captured1" class="chess-captured"></span>
        </div>
      </div>
      <div id="ck-result" class="game-result hidden">
        <h2 id="ck-result-title"></h2>
        <p id="ck-result-text"></p>
        <button id="ck-rematch" class="btn primary hidden" onclick="requestRematch()">üîÑ –†–µ–≤–∞–Ω—à</button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/multiplayer.js?v=34"></script>
  <script src="/js/app.js?v=34"></script>
  <script src="/js/rps.js?v=34"></script>
  <script src="/js/tictactoe.js?v=34"></script>
  <script src="/js/battleship.js?v=34"></script>
  <script src="/js/durak.js?v=34"></script>
  <script src="/js/uno.js?v=34"></script>
  <script src="/js/monopoly.js?v=34"></script>
  <script src="/js/minesweeper.js?v=34"></script>
  <script src="/js/snake.js?v=34"></script>
  <script src="/js/mafia.js?v=34"></script>
  <script src="/js/match3.js?v=34"></script>
  <script src="/js/chess.js?v=34"></script>
  <script src="/js/checkers.js?v=34"></script>
</body>

</html>