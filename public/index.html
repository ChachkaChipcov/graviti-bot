<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Game Zone</title>

  <!-- iOS Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Game Zone">

  <!-- Android/Chrome Meta Tags -->
  <meta name="theme-color" content="#0f0f1a">
  <meta name="mobile-web-app-capable" content="yes">

  <!-- General -->
  <meta name="description"
    content="–ò–≥—Ä–∞–π —Å –¥—Ä—É–∑—å—è–º–∏ –≤ Telegram! –ö–ù–ë, –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏, –ú–æ—Ä—Å–∫–æ–π –ë–æ–π, –î—É—Ä–∞–∫, UNO, –ú–æ–Ω–æ–ø–æ–ª–∏—è">
  <meta name="format-detection" content="telephone=no">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/css/styles.css?v=32">
  <link rel="stylesheet" href="/css/animations.css?v=32">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
  <div id="app">
    <!-- Lobby Screen -->
    <div id="lobby" class="screen active">
      <div class="header">
        <button class="hamburger-btn" onclick="toggleSettings()" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <h1>üéÆ Game Zone</h1>
        <p class="subtitle" data-i18n="subtitle">–ò–≥—Ä–∞–π —Å –¥—Ä—É–∑—å—è–º–∏!</p>
      </div>

      <!-- Settings Panel -->
      <div id="settings-panel" class="settings-panel hidden">
        <div class="settings-header">
          <h3>‚öôÔ∏è <span data-i18n="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></h3>
          <button class="close-btn" onclick="toggleSettings()">‚úï</button>
        </div>

        <div class="settings-content">
          <!-- Language Selection -->
          <div class="settings-section">
            <h4>üåç <span data-i18n="language">–Ø–∑—ã–∫</span></h4>
            <div class="settings-options">
              <button class="option-btn selected" data-lang="ru" onclick="setLanguage('ru')">
                üá∑üá∫ –†—É—Å—Å–∫–∏–π
              </button>
              <button class="option-btn" data-lang="en" onclick="setLanguage('en')">
                üá¨üáß English
              </button>
            </div>
          </div>

          <!-- Theme Selection -->
          <div class="settings-section">
            <h4>üé® <span data-i18n="theme">–¢–µ–º–∞</span></h4>
            <div class="settings-options">
              <button class="option-btn selected" data-theme="dark" onclick="setTheme('dark')">
                üåô <span data-i18n="dark">–¢—ë–º–Ω–∞—è</span>
              </button>
              <button class="option-btn" data-theme="light" onclick="setTheme('light')">
                ‚òÄÔ∏è <span data-i18n="light">–°–≤–µ—Ç–ª–∞—è</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="games-grid">
        <div class="game-card" onclick="selectGame('rps')">
          <div class="game-icon">
            <span class="emoji-bounce">‚úä</span>
            <span class="emoji-bounce delay-1">‚úã</span>
            <span class="emoji-bounce delay-2">‚úåÔ∏è</span>
          </div>
          <h3 data-i18n="rps_title">–ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞</h3>
          <p data-i18n="rps_desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ –Ω–∞ —É–¥–∞—á—É</p>
        </div>

        <div class="game-card" onclick="selectGame('tictactoe')">
          <div class="game-icon ttt-grid">
            <span>‚ùå</span>
            <span>‚≠ï</span>
            <span>‚ùå</span>
          </div>
          <h3 data-i18n="ttt_title">–ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏</h3>
          <p data-i18n="ttt_desc">–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –¥—É—ç–ª—å 3x3</p>
        </div>

        <div class="game-card" onclick="selectGame('battleship')">
          <div class="game-icon">
            <span class="ship-float">üö¢</span>
            <span class="explosion">üí•</span>
          </div>
          <h3 data-i18n="bs_title">–ú–æ—Ä—Å–∫–æ–π –ë–æ–π</h3>
          <p data-i18n="bs_desc">–ü–æ—Ç–æ–ø–∏ —Ñ–ª–æ—Ç –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞!</p>
        </div>

        <div class="game-card" onclick="selectGame('durak')">
          <div class="game-icon">
            <span class="card-float">üÉè</span>
            <span class="card-float delay-1">‚ô†Ô∏è</span>
            <span class="card-float delay-2">‚ô•Ô∏è</span>
          </div>
          <h3 data-i18n="durak_title">–î—É—Ä–∞–∫</h3>
          <p data-i18n="durak_desc">–ö–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ 2-7 –∏–≥—Ä–æ–∫–æ–≤</p>
          <span class="beta-badge" data-i18n="beta">–ë–ï–¢–ê</span>
        </div>

        <div class="game-card" onclick="selectGame('uno')">
          <div class="game-icon uno-cards">
            <span style="color: #ff5555;">üî¥</span>
            <span style="color: #55ff55;">üü¢</span>
            <span style="color: #5555ff;">üîµ</span>
            <span style="color: #ffff55;">üü°</span>
          </div>
          <h3 data-i18n="uno_title">UNO</h3>
          <p data-i18n="uno_desc">–¶–≤–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã 2-7 –∏–≥—Ä–æ–∫–æ–≤</p>
          <span class="beta-badge" data-i18n="beta">–ë–ï–¢–ê</span>
        </div>

        <div class="game-card" onclick="selectGame('monopoly')">
          <div class="game-icon">
            <span>üé≤</span>
            <span>üè†</span>
            <span>üí∞</span>
          </div>
          <h3 data-i18n="monopoly_title">–ú–æ–Ω–æ–ø–æ–ª–∏—è</h3>
          <p data-i18n="monopoly_desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞</p>
          <span class="beta-badge" data-i18n="beta">–ë–ï–¢–ê</span>
        </div>
      </div>
    </div>

    <!-- Room Screen -->
    <div id="room" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2 id="room-title">–ö–æ–º–Ω–∞—Ç–∞</h2>
      </div>

      <div class="room-content">
        <div id="waiting-view" class="waiting">
          <div class="loader"></div>
          <p>–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞...</p>

          <div class="room-code-display">
            <p class="room-code-label">–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</p>
            <div class="room-code-box">
              <span id="room-code-text" class="room-code-text"></span>
              <button class="copy-code-btn" onclick="copyRoomCode()" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">
                üìã
              </button>
            </div>
            <p class="room-code-hint">–ü—Ä–æ–¥–∏–∫—Ç—É–π –∫–æ–¥ –¥—Ä—É–≥—É –∏–ª–∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ</p>
          </div>

          <div class="invite-section">
            <button class="invite-btn" onclick="shareInvite()">
              üì§ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞
            </button>
          </div>
        </div>

        <div id="join-view" class="join hidden">
          <div class="join-methods">
            <button class="join-method active" data-method="code" onclick="showJoinMethod('code')">
              <span class="method-icon">üìù</span>
              <span class="method-text">–ü–æ –∫–æ–¥—É</span>
            </button>
            <button class="join-method" data-method="link" onclick="showJoinMethod('link')">
              <span class="method-icon">üîó</span>
              <span class="method-text">–ü–æ —Å—Å—ã–ª–∫–µ</span>
            </button>
            <button class="join-method" data-method="rooms" onclick="showJoinMethod('rooms')">
              <span class="method-icon">üåê</span>
              <span class="method-text">–ö–æ–º–Ω–∞—Ç—ã</span>
            </button>
          </div>

          <div id="join-by-code" class="join-section">
            <p class="join-hint">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</p>
            <input type="text" id="room-code-input" placeholder="XXXXXXXX" maxlength="8">
            <input type="text" id="room-password-input" class="hidden" placeholder="–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –µ—Å—Ç—å)" maxlength="20">
            <button class="btn primary" onclick="joinRoom()">‚úÖ –í–æ–π—Ç–∏</button>
          </div>

          <div id="join-by-link" class="join-section hidden">
            <p class="join-hint">–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:</p>
            <input type="text" id="room-link-input" placeholder="https://t.me/...">
            <button class="btn primary" onclick="joinByLink()">‚úÖ –í–æ–π—Ç–∏</button>
          </div>

          <div id="room-browser" class="join-section hidden">
            <div class="rooms-header">
              <div class="rooms-filter">
                <button class="filter-btn active" data-filter="all" onclick="filterRooms('all')">–í—Å–µ</button>
                <button class="filter-btn" data-filter="open" onclick="filterRooms('open')">üîì</button>
                <button class="filter-btn" data-filter="locked" onclick="filterRooms('locked')">üîí</button>
              </div>
              <button class="refresh-btn" onclick="refreshRoomList()">üîÑ</button>
            </div>
            <div id="rooms-list" class="rooms-list">
              <p class="rooms-loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–Ω–∞—Ç...</p>
            </div>
          </div>
        </div>
      </div>

      <div class="room-actions">
        <div id="room-create-form" class="room-create-form hidden">
          <div class="form-row">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="room-private-toggle" onchange="toggleRoomPassword()">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div id="room-password-row" class="form-row hidden">
            <input type="text" id="create-room-password" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞" maxlength="20">
          </div>
          <button class="btn primary" onclick="confirmCreateRoom()">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
          <button class="btn secondary" onclick="cancelCreateRoom()">‚ùå –û—Ç–º–µ–Ω–∞</button>
        </div>
        <div id="room-buttons" class="room-buttons">
          <button class="btn primary" onclick="showCreateRoomForm()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- RPS Game Screen -->
    <div id="rps-game" class="screen">
      <div class="game-header">
        <div class="player-info">
          <span class="player-name" id="rps-player1">–í—ã</span>
          <span class="score" id="rps-score1">0</span>
        </div>
        <div class="vs">VS</div>
        <div class="player-info">
          <span class="score" id="rps-score2">0</span>
          <span class="player-name" id="rps-player2">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
        </div>
      </div>

      <div class="rps-arena">
        <div class="rps-hand left" id="rps-left-hand">‚ùì</div>
        <div class="rps-vs-text">VS</div>
        <div class="rps-hand right" id="rps-right-hand">‚ùì</div>
      </div>

      <div class="rps-result" id="rps-result"></div>

      <div class="rps-choices">
        <button class="rps-choice" data-choice="rock" onclick="makeRPSChoice('rock')">
          <span>‚úä</span>
          <small>–ö–∞–º–µ–Ω—å</small>
        </button>
        <button class="rps-choice" data-choice="paper" onclick="makeRPSChoice('paper')">
          <span>‚úã</span>
          <small>–ë—É–º–∞–≥–∞</small>
        </button>
        <button class="rps-choice" data-choice="scissors" onclick="makeRPSChoice('scissors')">
          <span>‚úåÔ∏è</span>
          <small>–ù–æ–∂–Ω–∏—Ü—ã</small>
        </button>
      </div>
    </div>

    <!-- TicTacToe Game Screen -->
    <div id="ttt-game" class="screen">
      <div class="game-header">
        <div class="player-info">
          <span class="player-name" id="ttt-player1">–í—ã (X)</span>
        </div>
        <div class="turn-indicator" id="ttt-turn">–í–∞—à —Ö–æ–¥</div>
        <div class="player-info">
          <span class="player-name" id="ttt-player2">–°–æ–ø–µ—Ä–Ω–∏–∫ (O)</span>
        </div>
      </div>

      <div class="ttt-board" id="ttt-board">
        <div class="ttt-cell" data-index="0" onclick="makeTTTMove(0)"></div>
        <div class="ttt-cell" data-index="1" onclick="makeTTTMove(1)"></div>
        <div class="ttt-cell" data-index="2" onclick="makeTTTMove(2)"></div>
        <div class="ttt-cell" data-index="3" onclick="makeTTTMove(3)"></div>
        <div class="ttt-cell" data-index="4" onclick="makeTTTMove(4)"></div>
        <div class="ttt-cell" data-index="5" onclick="makeTTTMove(5)"></div>
        <div class="ttt-cell" data-index="6" onclick="makeTTTMove(6)"></div>
        <div class="ttt-cell" data-index="7" onclick="makeTTTMove(7)"></div>
        <div class="ttt-cell" data-index="8" onclick="makeTTTMove(8)"></div>
      </div>

      <div class="ttt-result" id="ttt-result"></div>
      <button class="btn primary hidden" id="ttt-rematch" onclick="requestRematch()">üîÑ –ï—â—ë —Ä–∞–∑</button>
    </div>

    <!-- Battleship Game Screen -->
    <div id="bs-game" class="screen">
      <div class="bs-phase" id="bs-phase">
        <!-- Placement Phase -->
        <div id="bs-placement" class="bs-placement">
          <h3>–†–∞—Å—Å—Ç–∞–≤—å—Ç–µ –∫–æ—Ä–∞–±–ª–∏</h3>
          <p class="bs-hint">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ç–∫—É</p>

          <div class="bs-rotation-controls">
            <button class="rotation-btn" id="rotation-btn" onclick="toggleShipRotation()">
              <span id="rotation-icon">‚û°Ô∏è</span>
              <span id="rotation-text">–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ</span>
            </button>
          </div>

          <div class="bs-ships-to-place" id="ships-to-place">
            <div class="ship-row">
              <div class="ship-item" data-size="4" data-id="4a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢üö¢</span>
                <small>4 –∫–ª √ó 1</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="3" data-id="3a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢</span>
                <small>3 –∫–ª</small>
              </div>
              <div class="ship-item" data-size="3" data-id="3b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢üö¢</span>
                <small>3 –∫–ª</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="2" data-id="2a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
              <div class="ship-item" data-size="2" data-id="2b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
              <div class="ship-item" data-size="2" data-id="2c" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢üö¢</span>
                <small>2–∫–ª</small>
              </div>
            </div>
            <div class="ship-row">
              <div class="ship-item" data-size="1" data-id="1a" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1b" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1c" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
              <div class="ship-item" data-size="1" data-id="1d" onclick="selectShipById(this)">
                <span class="ship-cells">üö¢</span>
              </div>
            </div>
          </div>

          <div class="bs-grid placement" id="bs-placement-grid"></div>

          <button class="btn primary" id="bs-ready-btn" onclick="confirmPlacement()" disabled>
            ‚úÖ –ì–æ—Ç–æ–≤ –∫ –±–æ—é!
          </button>
        </div>

        <!-- Battle Phase -->
        <div id="bs-battle" class="bs-battle hidden">
          <div class="bs-turn-indicator" id="bs-turn">–í–∞—à —Ö–æ–¥!</div>

          <div class="bs-grids">
            <div class="bs-grid-container">
              <h4>–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫</h4>
              <div class="bs-grid enemy" id="bs-enemy-grid"></div>
            </div>
            <div class="bs-grid-container">
              <h4>–í–∞—à —Ñ–ª–æ—Ç</h4>
              <div class="bs-grid own" id="bs-own-grid"></div>
            </div>
          </div>

          <div class="bs-ships-status" id="bs-ships-status"></div>
        </div>
      </div>

      <div class="bs-result hidden" id="bs-result"></div>
    </div>

    <!-- RPS Room Setup Screen -->
    <div id="rps-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>‚úä‚úã‚úåÔ∏è –ö–ù–ë - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–î–æ —Å–∫–æ–ª—å–∫–∏ –ø–æ–±–µ–¥ –∏–≥—Ä–∞–µ–º?</h3>
          <div class="slider-container">
            <input type="range" id="rps-wins-slider" class="wins-slider" min="1" max="100" value="3"
              oninput="updateRpsWinsDisplay(this.value)">
            <div class="slider-value" id="rps-wins-value">3</div>
          </div>
          <div class="slider-labels">
            <span>1</span>
            <span>25</span>
            <span>50</span>
            <span>75</span>
            <span>100</span>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="rps-private-toggle" onchange="toggleSetupPassword('rps')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="rps-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createRpsRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Durak Room Setup Screen -->
    <div id="durak-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üÉè –î—É—Ä–∞–∫ - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–†–µ–∂–∏–º –∏–≥—Ä—ã:</h3>
          <div class="mode-selector">
            <button class="mode-btn selected" data-mode="podkidnoy" onclick="selectDurakMode('podkidnoy')">
              <span>üéØ</span>
              <strong>–ü–æ–¥–∫–∏–¥–Ω–æ–π</strong>
              <small>–ü–æ–¥–∫–∏–¥—ã–≤–∞–π –∫–∞—Ä—Ç—ã —Ç–æ–≥–æ –∂–µ –Ω–æ–º–∏–Ω–∞–ª–∞</small>
            </button>
            <button class="mode-btn" data-mode="perevodnoy" onclick="selectDurakMode('perevodnoy')">
              <span>üîÑ</span>
              <strong>–ü–µ—Ä–µ–≤–æ–¥–Ω–æ–π</strong>
              <small>–ü–µ—Ä–µ–≤–æ–¥–∏ –∞—Ç–∞–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ</small>
            </button>
            <button class="mode-btn" data-mode="combined" onclick="selectDurakMode('combined')">
              <span>‚ö°</span>
              <strong>–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</strong>
              <small>–ü–æ–¥–∫–∏–¥—ã–≤–∞–π –∏ –ø–µ—Ä–µ–≤–æ–¥–∏</small>
            </button>
          </div>
        </div>

        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectPlayerCount(6)">6</button>
            <button class="player-btn" data-count="7" onclick="selectPlayerCount(7)">7</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="durak-private-toggle" onchange="toggleSetupPassword('durak')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="durak-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createDurakRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Durak Game Screen -->
    <div id="durak-game" class="screen">
      <!-- Status Bar -->
      <div class="dk-status" id="dk-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...</div>

      <!-- Opponents Area -->
      <div class="dk-opponents-area" id="dk-players">
        <!-- Rendered by JS -->
      </div>

      <!-- Main Game Area -->
      <div class="dk-game-area">
        <!-- Deck & Trump -->
        <div class="dk-deck-area" id="dk-deck-area">
          <!-- Rendered by JS -->
        </div>

        <!-- Table -->
        <div class="dk-table-area">
          <div id="dk-table">
            <div class="dk-table-empty">–ë—Ä–æ—Å—å—Ç–µ –∫–∞—Ä—Ç—É</div>
          </div>
        </div>
      </div>

      <!-- Hand & Actions -->
      <div class="dk-hand-area">
        <div class="dk-actions">
          <button class="dk-action-btn" id="dk-take-btn" onclick="durakTake()">üì• –ë–µ—Ä—É</button>
          <button class="dk-action-btn" id="dk-pass-btn" onclick="durakPass()">‚úÖ –ë–∏—Ç–æ</button>
        </div>
        <div id="dk-hand">
          <!-- Rendered by JS -->
        </div>
      </div>
    </div>

    <!-- UNO Setup Screen -->
    <div id="uno-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üé¥ UNO - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectUnoPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectUnoPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectUnoPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectUnoPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectUnoPlayerCount(6)">6</button>
            <button class="player-btn" data-count="7" onclick="selectUnoPlayerCount(7)">7</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="uno-private-toggle" onchange="toggleSetupPassword('uno')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="uno-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createUnoRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- UNO Game Screen -->
    <div id="uno-game" class="screen">
      <!-- Game table area -->
      <div class="uno-table">
        <!-- Draw deck on left -->
        <div class="uno-draw-deck" id="uno-draw-deck" onclick="unoDraw()">
          <div class="deck-cards"></div>
          <span class="deck-count" id="uno-deck-count">52</span>
        </div>

        <!-- Discard pile in center -->
        <div class="uno-discard" id="uno-pile">
          <!-- Current card -->
        </div>
      </div>

      <!-- Players info -->
      <div class="uno-players-bar" id="uno-players">
        <!-- Will show: –í—ã (8 –∫–∞—Ä—Ç) | Zhmalll (3 –∫–∞—Ä—Ç—ã) -->
      </div>

      <!-- Status hint -->
      <div class="uno-status" id="uno-status">–í–∞—à —Ö–æ–¥!</div>

      <!-- Action buttons -->
      <div class="uno-actions" id="uno-actions">
        <button class="btn-draw" onclick="unoDraw()">–í–∑—è—Ç—å –∫–∞—Ä—Ç—É</button>
        <button class="btn-uno hidden" id="uno-call" onclick="unoCall()">UNO!</button>
      </div>

      <!-- Player hand -->
      <div class="uno-hand" id="uno-hand">
        <!-- Player's cards -->
      </div>
    </div>

    <!-- Monopoly Setup Screen -->
    <div id="monopoly-setup" class="screen">
      <div class="room-header">
        <button class="back-btn" onclick="goBack()">‚Üê</button>
        <h2>üé≤ –ú–æ–Ω–æ–ø–æ–ª–∏—è - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
      </div>

      <div class="setup-content">
        <div class="setup-section">
          <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤:</h3>
          <div class="players-selector">
            <button class="player-btn selected" data-count="2" onclick="selectMonopolyPlayerCount(2)">2</button>
            <button class="player-btn" data-count="3" onclick="selectMonopolyPlayerCount(3)">3</button>
            <button class="player-btn" data-count="4" onclick="selectMonopolyPlayerCount(4)">4</button>
            <button class="player-btn" data-count="5" onclick="selectMonopolyPlayerCount(5)">5</button>
            <button class="player-btn" data-count="6" onclick="selectMonopolyPlayerCount(6)">6</button>
          </div>
        </div>

        <div class="setup-section">
          <div class="room-type-toggle">
            <label class="toggle-label">
              <span>üîí –ó–∞–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
              <input type="checkbox" id="monopoly-private-toggle" onchange="toggleSetupPassword('monopoly')">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <input type="text" id="monopoly-password" class="setup-password hidden" placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
            maxlength="20">
        </div>

        <div class="setup-actions">
          <button class="btn primary" onclick="createMonopolyRoom()">üéÆ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
          <button class="btn secondary" onclick="showJoinView()">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        </div>
      </div>
    </div>

    <!-- Monopoly Game Screen -->
    <div id="monopoly-game" class="screen">
      <!-- Header with status -->
      <div class="mp-header">
        <div class="mp-status" id="mp-status">–í–∞—à —Ö–æ–¥!</div>
      </div>

      <!-- Classic Square Board -->
      <div class="mp-board-wrapper">
        <div class="mp-classic-board" id="mp-board">
          <!-- Board cells will be rendered by JS in correct positions -->
        </div>

        <!-- Center area with info -->
        <div class="mp-center-area">
          <div class="mp-center-logo">üé© MONOPOLY</div>
          <div class="mp-center-dice" id="mp-center-dice">
            <span class="mp-die" id="mp-die1">‚öÄ</span>
            <span class="mp-die" id="mp-die2">‚öÄ</span>
          </div>
        </div>
      </div>

      <!-- Player info bar -->
      <div class="mp-player-panel">
        <div class="mp-my-info" id="mp-my-info">
          <span class="mp-money">üíµ $1500</span>
          <span class="mp-properties">üè† 0</span>
        </div>
        <div class="mp-players-list" id="mp-players"></div>
      </div>

      <!-- Action buttons -->
      <div class="mp-actions-bar">
        <button class="btn primary mp-roll-btn" id="mp-roll-btn" onclick="MonopolyPlus.roll()">
          üé≤ –ö–æ—Å—Ç–∏
        </button>
        <button class="btn secondary" id="mp-props-btn" onclick="MonopolyPlus.showMyProperties()">
          üè†
        </button>
        <button class="btn secondary" id="mp-trade-btn" onclick="MonopolyPlus.showTradeDialog()">
          ü§ù
        </button>
        <button class="btn secondary" id="mp-end-btn" onclick="MonopolyPlus.endTurn()">
          ‚úÖ –ì–æ—Ç–æ–≤–æ
        </button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/multiplayer.js?v=32"></script>
  <script src="/js/app.js?v=32"></script>
  <script src="/js/rps.js?v=32"></script>
  <script src="/js/tictactoe.js?v=32"></script>
  <script src="/js/battleship.js?v=32"></script>
  <script src="/js/durak.js?v=32"></script>
  <script src="/js/uno.js?v=32"></script>
  <script src="/js/monopoly.js?v=32"></script>
</body>

</html>